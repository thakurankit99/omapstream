<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OMaps - Stream</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="jquery.rotate.js"></script>
</head>
<body>
    <header id="header">
        <button id="menu-toggle">â˜°</button>
        <h1>OMaps Live Stream</h1>
    </header>
    <aside id="sidebar">
        <h2>Live Feed - Omaps</h2>
        <nav id="menu">
            <a class="active" href="index.html">Stream</a>
            <a href="static.html">Static</a>  
            <a href="javascript.html">Stream vJS</a>
            <a href="videolan.html">Video Player</a>
            <a target="_blank" onClick="window.open(this.href, '_blank','width=400,height=400'); return false;" href="control.htm">Control</a>
            
        </nav>
        <h3>Version info:</h3>
        <p>v1 (June 10, 2024)</p>
    </aside>
    <main id="content">
        <h1>Stream</h1>
        <h2>Display the Stream</h2>
        <section>
            <div id="streamwrap" class="xform-p">
                <img id="streamimage" class="xform" src="./?action=stream" />
            </div>
            <h3>Tips</h3>
            <p>In case of any error. You may have to reload this page by pressing <b>F5</b> one or more times.</p>
            <div id="xform">
                <button id="rotate" class="btnface rotate"></button>
                <button id="mirror" class="btnface mirror"></button>
                <button id="flip" class="btnface flip"></button>
            </div>
        </section>
        <footer>
            <p>&copy; OMaps</p>
        </footer>
    </main>
    <script src="script.js"></script>
    <script>$(document).ready(function() {
      var phi = 0, flipped = 0, mirrored = 0;
  
      function setXformClass () {
          $('.xform').each(function(idx,el) {
              el.className = "xform x" +(flipped ? "-flipped":"") + (mirrored ? "-mirrored" : "") + "-rotated-" + phi;
          });
      }
  
      // set rotation angle phi and toggle rotate class
      $('#rotate').click(function() {
          phi = (phi + 90) % 360;
          setXformClass();
          if (phi % 180) {
              $('.xform-p').addClass('rotated');
          } else {
              $('.xform-p').removeClass('rotated');
          }
      });
  
      // toggle mirror class component
      $('#mirror').click(function() {
          mirrored = ! mirrored;
          setXformClass();
      });
  
      // toggle flip class component
      $('#flip').click(function() {
          flipped = ! flipped;
          setXformClass();
      });
  });
  </script>
</body>
</html>
